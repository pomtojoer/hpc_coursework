#!/bin/sh

echo "Testing script for scaling plot" > executionTime.txt

# 25 process
echo "25 process" >> executionTime.txt
start=$(date +%s.%N)
mpiexec -np 25 ./Solve --Lx=1 --Ly=1 --Nx=161 --Ny=161 --Px=5 --Py=5 --dt=0.0005 --T=0.2 --Re=100
duration=$(echo "$(date +%s.%N) - $start" | bc)
execution_time=`printf "%.2f seconds" $duration`
echo "$execution_time" >> executionTime.txt

start=$(date +%s.%N)
mpiexec -np 25 ./Solve --Lx=1 --Ly=1 --Nx=161 --Ny=161 --Px=5 --Py=5 --dt=0.0005 --T=0.2 --Re=100
duration=$(echo "$(date +%s.%N) - $start" | bc)
execution_time=`printf "%.2f seconds" $duration`
echo "$execution_time" >> executionTime.txt

start=$(date +%s.%N)
mpiexec -np 25 ./Solve --Lx=1 --Ly=1 --Nx=161 --Ny=161 --Px=5 --Py=5 --dt=0.0005 --T=0.2 --Re=100
duration=$(echo "$(date +%s.%N) - $start" | bc)
execution_time=`printf "%.2f seconds" $duration`
echo "$execution_time" >> executionTime.txt

start=$(date +%s.%N)
mpiexec -np 25 ./Solve --Lx=1 --Ly=1 --Nx=161 --Ny=161 --Px=5 --Py=5 --dt=0.0005 --T=0.2 --Re=100
duration=$(echo "$(date +%s.%N) - $start" | bc)
execution_time=`printf "%.2f seconds" $duration`
echo "$execution_time" >> executionTime.txt

start=$(date +%s.%N)
mpiexec -np 25 ./Solve --Lx=1 --Ly=1 --Nx=161 --Ny=161 --Px=5 --Py=5 --dt=0.0005 --T=0.2 --Re=100
duration=$(echo "$(date +%s.%N) - $start" | bc)
execution_time=`printf "%.2f seconds" $duration`
echo "$execution_time" >> executionTime.txt

# 16 process
echo "16 process" >> executionTime.txt
start=$(date +%s.%N)
mpiexec -np 16 ./Solve --Lx=1 --Ly=1 --Nx=161 --Ny=161 --Px=4 --Py=4 --dt=0.0005 --T=0.2 --Re=100
duration=$(echo "$(date +%s.%N) - $start" | bc)
execution_time=`printf "%.2f seconds" $duration`
echo "$execution_time" >> executionTime.txt

start=$(date +%s.%N)
mpiexec -np 16 ./Solve --Lx=1 --Ly=1 --Nx=161 --Ny=161 --Px=4 --Py=4 --dt=0.0005 --T=0.2 --Re=100
duration=$(echo "$(date +%s.%N) - $start" | bc)
execution_time=`printf "%.2f seconds" $duration`
echo "$execution_time" >> executionTime.txt

start=$(date +%s.%N)
mpiexec -np 16 ./Solve --Lx=1 --Ly=1 --Nx=161 --Ny=161 --Px=4 --Py=4 --dt=0.0005 --T=0.2 --Re=100
duration=$(echo "$(date +%s.%N) - $start" | bc)
execution_time=`printf "%.2f seconds" $duration`
echo "$execution_time" >> executionTime.txt

start=$(date +%s.%N)
mpiexec -np 16 ./Solve --Lx=1 --Ly=1 --Nx=161 --Ny=161 --Px=4 --Py=4 --dt=0.0005 --T=0.2 --Re=100
duration=$(echo "$(date +%s.%N) - $start" | bc)
execution_time=`printf "%.2f seconds" $duration`
echo "$execution_time" >> executionTime.txt

start=$(date +%s.%N)
mpiexec -np 16 ./Solve --Lx=1 --Ly=1 --Nx=161 --Ny=161 --Px=4 --Py=4 --dt=0.0005 --T=0.2 --Re=100
duration=$(echo "$(date +%s.%N) - $start" | bc)
execution_time=`printf "%.2f seconds" $duration`
echo "$execution_time" >> executionTime.txt

# 9 process
echo "9 process" >> executionTime.txt
start=$(date +%s.%N)
mpiexec -np 9 ./Solve --Lx=1 --Ly=1 --Nx=161 --Ny=161 --Px=3 --Py=3 --dt=0.0005 --T=0.2 --Re=100
duration=$(echo "$(date +%s.%N) - $start" | bc)
execution_time=`printf "%.2f seconds" $duration`
echo "$execution_time" >> executionTime.txt

start=$(date +%s.%N)
mpiexec -np 9 ./Solve --Lx=1 --Ly=1 --Nx=161 --Ny=161 --Px=3 --Py=3 --dt=0.0005 --T=0.2 --Re=100
duration=$(echo "$(date +%s.%N) - $start" | bc)
execution_time=`printf "%.2f seconds" $duration`
echo "$execution_time" >> executionTime.txt

start=$(date +%s.%N)
mpiexec -np 9 ./Solve --Lx=1 --Ly=1 --Nx=161 --Ny=161 --Px=3 --Py=3 --dt=0.0005 --T=0.2 --Re=100
duration=$(echo "$(date +%s.%N) - $start" | bc)
execution_time=`printf "%.2f seconds" $duration`
echo "$execution_time" >> executionTime.txt

start=$(date +%s.%N)
mpiexec -np 9 ./Solve --Lx=1 --Ly=1 --Nx=161 --Ny=161 --Px=3 --Py=3 --dt=0.0005 --T=0.2 --Re=100
duration=$(echo "$(date +%s.%N) - $start" | bc)
execution_time=`printf "%.2f seconds" $duration`
echo "$execution_time" >> executionTime.txt

start=$(date +%s.%N)
mpiexec -np 9 ./Solve --Lx=1 --Ly=1 --Nx=161 --Ny=161 --Px=3 --Py=3 --dt=0.0005 --T=0.2 --Re=100
duration=$(echo "$(date +%s.%N) - $start" | bc)
execution_time=`printf "%.2f seconds" $duration`
echo "$execution_time" >> executionTime.txt

# 4 process
echo "4 process" >> executionTime.txt
start=$(date +%s.%N)
mpiexec -np 4 ./Solve --Lx=1 --Ly=1 --Nx=161 --Ny=161 --Px=2 --Py=2 --dt=0.0005 --T=0.2 --Re=100
duration=$(echo "$(date +%s.%N) - $start" | bc)
execution_time=`printf "%.2f seconds" $duration`
echo "$execution_time" >> executionTime.txt

start=$(date +%s.%N)
mpiexec -np 4 ./Solve --Lx=1 --Ly=1 --Nx=161 --Ny=161 --Px=2 --Py=2 --dt=0.0005 --T=0.2 --Re=100
duration=$(echo "$(date +%s.%N) - $start" | bc)
execution_time=`printf "%.2f seconds" $duration`
echo "$execution_time" >> executionTime.txt

start=$(date +%s.%N)
mpiexec -np 4 ./Solve --Lx=1 --Ly=1 --Nx=161 --Ny=161 --Px=2 --Py=2 --dt=0.0005 --T=0.2 --Re=100
duration=$(echo "$(date +%s.%N) - $start" | bc)
execution_time=`printf "%.2f seconds" $duration`
echo "$execution_time" >> executionTime.txt

start=$(date +%s.%N)
mpiexec -np 4 ./Solve --Lx=1 --Ly=1 --Nx=161 --Ny=161 --Px=2 --Py=2 --dt=0.0005 --T=0.2 --Re=100
duration=$(echo "$(date +%s.%N) - $start" | bc)
execution_time=`printf "%.2f seconds" $duration`
echo "$execution_time" >> executionTime.txt

start=$(date +%s.%N)
mpiexec -np 4 ./Solve --Lx=1 --Ly=1 --Nx=161 --Ny=161 --Px=2 --Py=2 --dt=0.0005 --T=0.2 --Re=100
duration=$(echo "$(date +%s.%N) - $start" | bc)
execution_time=`printf "%.2f seconds" $duration`
echo "$execution_time" >> executionTime.txt

# 1 process
echo "1 process" >> executionTime.txt
start=$(date +%s.%N)
mpiexec -np 1 ./Solve --Lx=1 --Ly=1 --Nx=161 --Ny=161 --Px=1 --Py=1 --dt=0.0005 --T=0.2 --Re=100
duration=$(echo "$(date +%s.%N) - $start" | bc)
execution_time=`printf "%.2f seconds" $duration`
echo "$execution_time" >> executionTime.txt

start=$(date +%s.%N)
mpiexec -np 1 ./Solve --Lx=1 --Ly=1 --Nx=161 --Ny=161 --Px=1 --Py=1 --dt=0.0005 --T=0.2 --Re=100
duration=$(echo "$(date +%s.%N) - $start" | bc)
execution_time=`printf "%.2f seconds" $duration`
echo "$execution_time" >> executionTime.txt

start=$(date +%s.%N)
mpiexec -np 1 ./Solve --Lx=1 --Ly=1 --Nx=161 --Ny=161 --Px=1 --Py=1 --dt=0.0005 --T=0.2 --Re=100
duration=$(echo "$(date +%s.%N) - $start" | bc)
execution_time=`printf "%.2f seconds" $duration`
echo "$execution_time" >> executionTime.txt

start=$(date +%s.%N)
mpiexec -np 1 ./Solve --Lx=1 --Ly=1 --Nx=161 --Ny=161 --Px=1 --Py=1 --dt=0.0005 --T=0.2 --Re=100
duration=$(echo "$(date +%s.%N) - $start" | bc)
execution_time=`printf "%.2f seconds" $duration`
echo "$execution_time" >> executionTime.txt

start=$(date +%s.%N)
mpiexec -np 1 ./Solve --Lx=1 --Ly=1 --Nx=161 --Ny=161 --Px=1 --Py=1 --dt=0.0005 --T=0.2 --Re=100
duration=$(echo "$(date +%s.%N) - $start" | bc)
execution_time=`printf "%.2f seconds" $duration`
echo "$execution_time" >> executionTime.txt
